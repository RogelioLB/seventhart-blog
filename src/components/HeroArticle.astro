---
import type { User } from '@supabase/supabase-js';
import { Avatar } from 'flowbite-react';
import {BiHeart} from "react-icons/bi/index"
import ButtonComments from './ButtonComments';

interface Props{
    image?:string,
    category?:string,
    slug?:string,
    created_at?:string | null,
    title?:string,
    reading_time:number,
    created_by: User | null
}
const {image,category,created_at,slug,title,reading_time,created_by} = Astro.props
---
<div class="flex flex-col gap-4">
    <div class="flex flex-col gap-4">
        <h1 class="text-neutral-900 font-semibold font-poppins [text-wrap:balance] text-4xl md:text-5xl">{title}</h1>
        <div class="flex">
            <Avatar
            img={created_by?.user_metadata.avatar_url}
            rounded
            >
            <div class="space-y-1 font-regular dark:text-white">
                <div class="font-light">
                {created_by?.user_metadata.name}
                </div>
                <div class="text-gray-400 flex gap-2 text-sm">
                    <span>{reading_time.toFixed(0)} minutos de lectura.</span>
                    <span>{new Date(created_at as string).toLocaleDateString()}</span>
                </div>
            </div>
            </Avatar>
        </div>
    </div>
    <div class="border-t border-zinc-400 border-b p-4 text-xl flex gap-2 mb-12">
        <div>
            <BiHeart />
        </div>
        <ButtonComments client:load />
    </div>
    <img src={image} alt={slug} class="rounded-b-sm w-full h-full object-cover"/>
</div>